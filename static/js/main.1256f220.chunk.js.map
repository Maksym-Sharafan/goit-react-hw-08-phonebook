{"version":3,"sources":["redux/phonebook/phonebook-reducer.js","redux/store.js","Components/Header/Navigation.js","Components/Header/UserMenu.js","Components/Header/AuthNav.js","Components/Header/Header.js","Components/PrivateRoute.js","Components/PublicRoute.js","App.js","index.js","redux/phonebook/phonebook-operation.js","redux/phonebook/phonebook-actions.js","redux/auth/auth-operations.js","redux/auth/auth-selector.js","redux/auth/auth-slice.js"],"names":["items","createReducer","fetchContact","fulfilled","_","payload","addContact","state","action","deleteContact","filter","id","changeFilter","loading","pending","rejected","combineReducers","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","auth","persistReducer","authReducer","contacts","phonebookReducer","devTools","process","persistor","persistStore","styles","nav","marginLeft","height","display","alignItems","link","marginRight","textDecoration","verticalAlign","fontWeight","fontSize","color","activeLink","borderBottom","Navigation","isLoggedIn","useSelector","authSelectors","getIsLoggedIn","style","to","exact","activeStyle","useStyles","makeStyles","theme","root","margin","spacing","title","flexGrow","breakpoints","up","BootstrapButton","withStyles","boxShadow","textTransform","padding","border","lineHeight","backgroundColor","borderColor","fontFamily","join","Button","UserMenu","classes","dispatch","useDispatch","userName","getUserName","className","Typography","variant","noWrap","type","onClick","authOperations","logOut","myStyles","AuthNav","justifyContent","flexDirection","maxWidth","AppBar","menuButton","Header","isRefreshing","getIsRefreshing","position","PrivateRoute","children","redirectTo","routeProps","isError","getError","PublicRoute","restricted","shouldRedirected","HomePageView","lazy","PhonebookView","LoginView","RegisterView","App","useEffect","fetchCurrentUser","toast","error","toastId","POSITION","TOP_CENTER","fallback","path","ReactDOM","render","StrictMode","document","getElementById","createAsyncThunk","a","rejectWithValue","axios","get","data","contactData","post","delete","createAction","defaults","baseURL","token","headers","common","Authorization","register","credentials","response","logIn","message","operations","thunkAPI","persistedToken","getState","badRequest","user","name","authSlice","createSlice","initialState","email","extraReducers"],"mappings":"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","file":"static/js/main.1256f220.chunk.js","sourcesContent":["import { combineReducers } from 'redux';\nimport { createReducer } from '@reduxjs/toolkit';\nimport { changeFilter } from './phonebook-actions';\nimport { fetchContact, addContact, deleteContact } from './phonebook-operation';\n\nconst items = createReducer([], {\n  [fetchContact.fulfilled]: (_, { payload }) => payload,\n  [addContact.fulfilled]: (state, action) => {\n    return [action.payload, ...state];\n  },\n  [deleteContact.fulfilled]: (state, action) =>\n    state.filter(({ id }) => id !== action.payload),\n});\n\nconst filter = createReducer('', {\n  [changeFilter]: (_, { payload }) => payload,\n});\n\nconst loading = createReducer(false, {\n  [addContact.pending]: () => true,\n  [addContact.fulfilled]: () => false,\n  [addContact.rejected]: () => false,\n  [deleteContact.pending]: () => true,\n  [deleteContact.fulfilled]: () => false,\n  [deleteContact.rejected]: () => false,\n  [fetchContact.pending]: () => true,\n  [fetchContact.fulfilled]: () => false,\n  [fetchContact.rejected]: () => false,\n});\n\nexport default combineReducers({\n  items,\n  filter,\n  loading,\n});\n","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\nimport {\n  persistStore,\n  persistReducer,\n  FLUSH,\n  REHYDRATE,\n  PAUSE,\n  PERSIST,\n  PURGE,\n  REGISTER,\n} from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport { authReducer } from './auth';\nimport phonebookReducer from './phonebook/phonebook-reducer';\n\nconst middleware = [\n  ...getDefaultMiddleware({\n    serializableCheck: {\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\n    },\n  }),\n];\n\nconst authPersistConfig = {\n  key: 'auth',\n  storage,\n  whitelist: ['token'],\n};\n\nexport const store = configureStore({\n  reducer: {\n    auth: persistReducer(authPersistConfig, authReducer),\n    contacts: phonebookReducer,\n  },\n  middleware,\n  devTools: process.env.NODE_ENV !== 'production',\n});\n\nexport const persistor = persistStore(store);\n","import { useSelector } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { authSelectors } from 'redux/auth';\n// import styles from './Navigation.module.css'\n\nconst styles = {\n  nav: {\n    marginLeft: '25px',\n    height: '100%',\n    display: 'flex',\n    alignItems: 'center',\n  },\n  link: {\n    display: 'flex',\n    alignItems: 'center',\n    marginRight: '25px',\n    textDecoration: 'none',\n    height: '100%',\n    verticalAlign: 'middle',\n    fontWeight: 700,\n    fontSize: '30px',\n    color: '#2A363B',\n  },\n  activeLink: {\n    color: '#E84A5F',\n    borderBottom: '5px solid #E84A5F',\n  },\n};\n\nexport default function Navigation() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  return (\n    <nav style={styles.nav}>\n      <NavLink to=\"/\" exact style={styles.link} activeStyle={styles.activeLink}>\n        <span>Home</span>\n      </NavLink>\n      {isLoggedIn && (\n        <NavLink\n          to=\"/phonebook\"\n          exact\n          style={styles.link}\n          activeStyle={styles.activeLink}\n        >\n          <span>Phonebook</span>\n        </NavLink>\n      )}\n    </nav>\n  );\n}\n","import { useSelector, useDispatch } from 'react-redux';\nimport { authSelectors } from 'redux/auth';\nimport { authOperations } from 'redux/auth';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    '& > *': {\n      margin: theme.spacing(2),\n    },\n  },\n  title: {\n    flexGrow: 1,\n    display: 'none',\n    fontSize: '25px',\n    [theme.breakpoints.up('sm')]: {\n      display: 'inline',\n    },\n  },\n}));\n\nconst BootstrapButton = withStyles({\n  root: {\n    boxShadow: 'none',\n    textTransform: 'none',\n    fontSize: 20,\n    padding: '6px 20px',\n    border: '3px solid',\n    lineHeight: 1.5,\n    backgroundColor: 'inherit',\n    borderColor: '#000000',\n    fontFamily: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Roboto',\n      '\"Helvetica Neue\"',\n      'Arial',\n      'sans-serif',\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"',\n    ].join(','),\n    '&:hover': {\n      backgroundColor: '#fff',\n      borderColor: '#fff',\n      boxShadow: 'none',\n    },\n    '&:active': {\n      boxShadow: 'none',\n      backgroundColor: '#fff',\n      borderColor: '#fff',\n    },\n    '&:focus': {\n      boxShadow: '0 0 0 0.2rem rgba(0,123,255,.5)',\n    },\n  },\n})(Button);\n\nexport default function UserMenu() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const userName = useSelector(authSelectors.getUserName);\n\n  return (\n    <div className={classes.root}>\n      <Typography className={classes.title} variant=\"h6\" noWrap>\n        Welcome {userName}\n      </Typography>\n\n      <BootstrapButton\n        variant=\"outlined\"\n        type=\"button\"\n        onClick={() => dispatch(authOperations.logOut())}\n      >\n        Exit\n      </BootstrapButton>\n    </div>\n  );\n}\n","import { NavLink } from 'react-router-dom';\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nconst BootstrapButton = withStyles({\n  root: {\n    boxShadow: 'none',\n    textTransform: 'none',\n    fontSize: 20,\n    padding: '6px 12px',\n    border: '1px solid',\n    lineHeight: 1.5,\n    backgroundColor: '#fff200',\n    borderColor: '#035418',\n    fontFamily: [\n      '-apple-system',\n      'BlinkMacSystemFont',\n      '\"Segoe UI\"',\n      'Roboto',\n      '\"Helvetica Neue\"',\n      'Arial',\n      'sans-serif',\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"',\n    ].join(','),\n    '&:hover': {\n      backgroundColor: '#ffae00',\n      borderColor: '#275232',\n      boxShadow: 'none',\n    },\n    '&:active': {\n      boxShadow: 'none',\n      backgroundColor: '#ff9100',\n      borderColor: '#ffae00',\n    },\n    '&:focus': {\n      boxShadow: '0 0 0 0.2rem rgba(0,123,255,.5)',\n    },\n  },\n})(Button);\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    '& > *': {\n      margin: theme.spacing(1),\n    },\n  },\n}));\n\nconst myStyles = {\n  link: {\n    display: 'inline-block',\n    textDecoration: 'none',\n    // padding: 12,\n    fontWeight: 700,\n    color: '#2A363B',\n  },\n  activeLink: {\n    color: '#E84A5F',\n  },\n};\n\nexport default function AuthNav() {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <BootstrapButton variant=\"contained\" color=\"primary\">\n        <NavLink\n          to=\"/register\"\n          exact\n          style={myStyles.link}\n          activeStyle={myStyles.activeLink}\n        >\n          Sign Up\n        </NavLink>\n      </BootstrapButton>\n\n      <BootstrapButton variant=\"contained\" color=\"primary\">\n        <NavLink\n          to=\"/login\"\n          exact\n          style={myStyles.link}\n          activeStyle={myStyles.activeLink}\n        >\n          Login\n        </NavLink>\n      </BootstrapButton>\n    </div>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport Navigation from './Navigation';\nimport UserMenu from './UserMenu';\nimport AuthNav from './AuthNav';\nimport { authSelectors } from 'redux/auth';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n\n    flexDirection: 'row',\n    // margin: '0 auto',\n    height: '65px',\n    maxWidth: '1400px',\n  },\n  AppBar: {\n    display: 'flex',\n    flexDirection: 'row',\n    // justifyContent: 'space-between',\n    justifyContent: 'center',\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n  },\n}));\n\nexport default function Header() {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  const isRefreshing = useSelector(authSelectors.getIsRefreshing);\n  const classes = useStyles();\n\n  return (\n    <AppBar position=\"fixed\" className={classes.AppBar}>\n      <div className={classes.root}>\n        <Navigation />\n        {isLoggedIn && !isRefreshing ? <UserMenu /> : <AuthNav />}\n      </div>\n    </AppBar>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport { authSelectors } from 'redux/auth';\n\nexport default function PrivateRoute({\n  children,\n  redirectTo = '/login',\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  const isError = useSelector(authSelectors.getError);\n\n  return (\n    <Route {...routeProps}>\n      {isLoggedIn && !isError ? children : <Redirect to={redirectTo} />}\n    </Route>\n  );\n}\n","import { useSelector } from 'react-redux';\nimport { Route, Redirect } from 'react-router-dom';\nimport { authSelectors } from '../redux/auth';\n\nexport default function PublicRoute({\n  children,\n  restricted = false,\n  redirectTo = './',\n  ...routeProps\n}) {\n  const isLoggedIn = useSelector(authSelectors.getIsLoggedIn);\n  const shouldRedirected = isLoggedIn && restricted;\n  return (\n    <Route {...routeProps}>\n      {shouldRedirected ? <Redirect to={redirectTo} /> : children}\n    </Route>\n  );\n}\n","import { useEffect, lazy, Suspense } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Switch } from 'react-router-dom';\n\nimport { authOperations, authSelectors } from 'redux/auth';\nimport Header from 'Components/Header/Header';\nimport PrivateRoute from 'Components/PrivateRoute';\nimport PublicRoute from 'Components/PublicRoute';\nimport './App.css';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst HomePageView = lazy(() => import('views/HomePageView'));\nconst PhonebookView = lazy(() => import('views/PhonebookView'));\nconst LoginView = lazy(() => import('views/LoginView'));\nconst RegisterView = lazy(() => import('views/RegisterView'));\n\nconst App = () => {\n  const isRefreshing = useSelector(authSelectors.getIsRefreshing);\n  const dispatch = useDispatch();\n  const isError = useSelector(authSelectors.getError);\n  const customId = 'custom-id-yes';\n\n  const notify = () =>\n    toast.error(`${isError}`, {\n      toastId: customId,\n      position: toast.POSITION.TOP_CENTER,\n    });\n\n  useEffect(() => {\n    dispatch(authOperations.fetchCurrentUser());\n  }, [dispatch]);\n\n  isError && notify();\n  return (\n    !isRefreshing && (\n      <div className=\"mainWrapper\">\n        <ToastContainer />\n        <Header />\n        <Switch>\n          <Suspense fallback={<p>Loading...</p>}>\n            <PublicRoute exact path=\"/\">\n              <HomePageView />\n            </PublicRoute>\n            <PrivateRoute path=\"/phonebook\">\n              <PhonebookView />\n            </PrivateRoute>\n            <PublicRoute\n              exact\n              path=\"/login\"\n              restricted\n              redirectTo={'./phonebook'}\n            >\n              <LoginView />\n            </PublicRoute>\n            <PublicRoute\n              exact\n              path=\"/register\"\n              restricted\n              redirectTo={'./phonebook'}\n            >\n              <RegisterView />\n            </PublicRoute>\n          </Suspense>\n        </Switch>\n      </div>\n    )\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { BrowserRouter } from 'react-router-dom';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport { store, persistor } from './redux/store';\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <PersistGate loading={null} persistor={persistor}>\n        <BrowserRouter>\n          <App />\n        </BrowserRouter>\n      </PersistGate>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","import axios from 'axios';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\nexport const fetchContact = createAsyncThunk(\n  'contacts/fetchContact',\n  async (_, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.get('/contacts');\n      return data;\n    } catch (error) {\n      return rejectWithValue(error);\n    }\n  },\n);\n\nexport const addContact = createAsyncThunk(\n  'contacts/addContact',\n  async (contactData, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post('/contacts', contactData);\n      return data;\n    } catch (error) {\n      return rejectWithValue(error);\n    }\n  },\n);\n\nexport const deleteContact = createAsyncThunk(\n  'contacts/deleteContact',\n  async (id, { rejectWithValue }) => {\n    try {\n      await axios.delete(`/contacts/${id}`);\n      return id;\n    } catch (error) {\n      return rejectWithValue(error);\n    }\n  },\n);\n","import { createAction } from '@reduxjs/toolkit';\n\nexport const changeFilter = createAction('contacts/changeFilter');\n","import axios from 'axios';\nimport { createAsyncThunk } from '@reduxjs/toolkit';\n\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com/';\n\nconst token = {\n  set(token) {\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\n  },\n  unset() {\n    axios.defaults.headers.common.Authorization = '';\n  },\n};\n\nconst register = createAsyncThunk(\n  'auth/register',\n  async (credentials, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post('/users/signup', credentials);\n      token.set(data.token);\n      return data;\n    } catch (error) {\n      return rejectWithValue(error.response.data);\n    }\n  },\n);\n\nconst logIn = createAsyncThunk(\n  'auth/login',\n  async (credentials, { rejectWithValue }) => {\n    try {\n      const { data } = await axios.post('/users/login', credentials);\n      token.set(data.token);\n      return data;\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  },\n);\n\nconst logOut = createAsyncThunk(\n  'auth/logout',\n  async (_, { rejectWithValue }) => {\n    try {\n      await axios.post('/users/logout');\n      token.unset();\n    } catch (error) {\n      return rejectWithValue(error.message);\n    }\n  },\n);\n\nconst fetchCurrentUser = createAsyncThunk(\n  'auth/refresh',\n  async (_, thunkAPI) => {\n    const persistedToken = thunkAPI.getState().auth.token;\n    const badRequest = thunkAPI.getState().auth.error;\n\n    if (persistedToken === null || badRequest !== null) {\n      return thunkAPI.rejectWithValue();\n    }\n    token.set(persistedToken);\n    try {\n      const { data } = await axios.get('/users/current');\n      return data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue(error.message);\n    }\n  },\n);\n\nconst operations = {\n  register,\n  logOut,\n  logIn,\n  fetchCurrentUser,\n};\nexport default operations;\n","const getUserName = state => state.auth.user.name;\nconst getIsLoggedIn = state => state.auth.isLoggedIn;\nconst getIsRefreshing = state => state.auth.isRefreshing;\nconst getError = state => state.auth.error;\n\nconst authSelectors = {\n  getIsLoggedIn,\n  getUserName,\n  getIsRefreshing,\n  getError,\n};\n\nexport default authSelectors;\n","import { createSlice } from '@reduxjs/toolkit';\nimport authOperations from './auth-operations';\n\nconst initialState = {\n  user: { name: null, email: null },\n  token: null,\n  error: null,\n  isLoggedIn: false,\n  isRefreshing: false,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  extraReducers: {\n    [authOperations.register.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n      state.error = null;\n    },\n    [authOperations.register.rejected](state) {\n      state.error = 'Such user already exist';\n      state.isLoggedIn = false;\n    },\n    [authOperations.logIn.fulfilled](state, action) {\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.isLoggedIn = true;\n      state.error = null;\n    },\n    [authOperations.logIn.rejected](state, action) {\n      state.error = action.payload;\n      state.isLoggedIn = false;\n    },\n    [authOperations.logOut.fulfilled](state) {\n      state.user = { name: null, email: null };\n      state.token = null;\n      state.isLoggedIn = false;\n      state.error = null;\n    },\n    [authOperations.fetchCurrentUser.pending](state) {\n      state.isRefreshing = true;\n    },\n    [authOperations.fetchCurrentUser.fulfilled](state, action) {\n      state.user = action.payload;\n      state.isLoggedIn = true;\n      state.isRefreshing = false;\n      state.error = null;\n    },\n    [authOperations.fetchCurrentUser.rejected](state, action) {\n      state.isLoggedIn = false;\n      state.isRefreshing = false;\n      state.error = action.payload;\n    },\n  },\n});\n\nexport default authSlice.reducer;\n"],"sourceRoot":""}